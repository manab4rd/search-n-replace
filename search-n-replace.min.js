/*! search-n-replace 2019-09-18 */

"undefined"==typeof jQuery?console.log("You need jQuery to run this!"):$.fn.column_search_replace=function(e){var l=$.extend({},{inputClasses:"form-control",dropdownId:"columnSelect",searchInputId:"searchInput",replaceInputId:"replaceInput"},e),a=$(this),t=a.find("thead tr td, thead tr th, tr th"),p=[];t.length>0&&t.each((e,l)=>{p.push($(l).text().trim())}),a.before('<div class="row mb-2 wrapper"></div>');var d=$(".wrapper");d.append('<div class="col-md-4"><label>Search</label><input type="search" class="'+l.inputClasses+'" id="'+l.searchInputId+'" placeholder="Search For"/></div>'),d.append('<div class="col-md-4"><label>Replace</label><input class="'+l.inputClasses+'" id="'+l.replaceInputId+'" placeholder="Replace With"/></div>'),d.append('<div class="col-md-4"><label>Column to replace</label><select class="'+l.inputClasses+'" id="'+l.dropdownId+'"></select></div>');var n=$("#"+l.searchInputId),c=$("#"+l.replaceInputId),r=$("#"+l.dropdownId);r.empty().append("<option>Select Column</option>"),$.each(p,(e,l)=>{r.append($("<option></option>").val(e).html(l))}),r.change(function(){var e,l,t,p=$(this).val();a.find("tbody tr").each((a,d)=>{e=$(d).children("td").eq(p),l=new RegExp(n.val()),t=e.text().replace(l,c.val()),e.text(t)}),r.prop("selectedIndex",0)})};